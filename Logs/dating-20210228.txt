2021-02-28T16:14:17.6352280+07:00  [INF] Entity Framework Core "5.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-02-28T16:14:18.6245740+07:00  [INF] Executed DbCommand ("37"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-02-28T16:14:18.6715210+07:00  [INF] Executed DbCommand ("30"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-02-28T16:14:18.6785460+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT 1" (0723d8ff)
2021-02-28T16:14:18.6821140+07:00  [INF] Executed DbCommand ("3"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT OBJECT_ID(N'[__EFMigrationsHistory]');" (0723d8ff)
2021-02-28T16:14:18.7035040+07:00  [INF] Executed DbCommand ("4"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];" (0723d8ff)
2021-02-28T16:14:18.7261070+07:00  [INF] No migrations were applied. The database is already up to date. (503cba9d)
2021-02-28T16:14:18.9773770+07:00  [INF] Executed DbCommand ("2"ms) [Parameters=[""], CommandType='Text', CommandTimeout='30']"
""SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Users] AS [u]) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END" (0723d8ff)
2021-02-28T16:14:19.0047650+07:00  [INF] User profile is available. Using '"/Users/ray/.aspnet/DataProtection-Keys"' as key repository; keys will not be encrypted at rest. (a162847e)
2021-02-28T16:14:19.2425170+07:00  [INF] Now listening on: "https://localhost:5001" (d826f4b8)
2021-02-28T16:14:19.2427990+07:00  [INF] Now listening on: "http://localhost:5000" (d826f4b8)
2021-02-28T16:14:19.2429990+07:00  [INF] Application started. Press Ctrl+C to shut down. (dcaefe54)
2021-02-28T16:14:19.2430630+07:00  [INF] Hosting environment: "Development" (c3307c92)
2021-02-28T16:14:19.2431250+07:00  [INF] Content root path: "/Users/ray/Dropbox/Projects/dotnetCore/DatingApp/API" (b5d60022)
2021-02-28T16:19:23.9377680+07:00 0HM6RP7O40O2N:00000002 [INF] Request starting HTTP/1.1 OPTIONS https://localhost:5001/api/users?pageNumber=1&pageSize=4&minAge=18&maxAge=99&gender=female&orderBy=lastActive - - (ca22a1cb)
2021-02-28T16:19:23.9803890+07:00 0HM6RP7O40O2N:00000002 [INF] CORS policy execution successful. (5409d6ef)
2021-02-28T16:19:23.9882920+07:00 0HM6RP7O40O2N:00000002 [INF] Request finished HTTP/1.1 OPTIONS https://localhost:5001/api/users?pageNumber=1&pageSize=4&minAge=18&maxAge=99&gender=female&orderBy=lastActive - - - 204 - - 54.4823ms (791a596a)
2021-02-28T16:19:23.9970740+07:00 0HM6RP7O40O2N:00000003 [INF] Request starting HTTP/1.1 GET https://localhost:5001/api/users?pageNumber=1&pageSize=4&minAge=18&maxAge=99&gender=female&orderBy=lastActive - - (ca22a1cb)
2021-02-28T16:19:24.0003070+07:00 0HM6RP7O40O2N:00000003 [INF] CORS policy execution successful. (5409d6ef)
2021-02-28T16:19:24.1828840+07:00 0HM6RP7O40O2N:00000003 [INF] Successfully validated the token. (60169667)
2021-02-28T16:19:24.1898100+07:00 0HM6RP7O40O2N:00000003 [INF] Authorization was successful. (0d575a54)
2021-02-28T16:19:24.1904320+07:00 0HM6RP7O40O2N:00000003 [INF] Executing endpoint '"API.Controllers.UsersController.GetUsers (API)"' (500cc934)
2021-02-28T16:19:24.2313850+07:00 0HM6RP7O40O2N:00000003 [INF] Route matched with "{action = \"GetUsers\", controller = \"Users\"}". Executing controller action with signature "System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[API.DTOs.MemberDto]]] GetUsers(API.Helpers.UserParams)" on controller "API.Controllers.UsersController" ("API"). (122b2fdf)
2021-02-28T16:19:24.4181660+07:00 0HM6RP7O40O2N:00000003 [INF] Entity Framework Core "5.0.2" initialized '"DataContext"' using provider '"Microsoft.EntityFrameworkCore.SqlServer"' with options: "None" (9958f5bb)
2021-02-28T16:19:24.6064670+07:00 0HM6RP7O40O2N:00000003 [INF] Executed DbCommand ("22"ms) [Parameters=["@__username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[City], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LookingFor], [t].[PasswordHash], [t].[PasswordSalt], [t].[Username], [p].[Id], [p].[AppUserId], [p].[IsMain], [p].[PublicId], [p].[Url]
FROM (
    SELECT TOP(2) [u].[Id], [u].[City], [u].[Country], [u].[Created], [u].[DateOfBirth], [u].[Gender], [u].[Interests], [u].[Introduction], [u].[KnownAs], [u].[LastActive], [u].[LookingFor], [u].[PasswordHash], [u].[PasswordSalt], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Username] = @__username_0
) AS [t]
LEFT JOIN [Photos] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id], [p].[Id]" (0723d8ff)
2021-02-28T16:19:24.7438890+07:00 0HM6RP7O40O2N:00000003 [INF] Executed DbCommand ("4"ms) [Parameters=["@__userParams_CurrentUsername_0='?' (Size = 4000), @__userParams_Gender_1='?' (Size = 4000), @__minDob_2='?' (DbType = DateTime2), @__maxDob_3='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SELECT COUNT(*)
FROM [Users] AS [u]
WHERE (((([u].[Username] <> @__userParams_CurrentUsername_0) OR [u].[Username] IS NULL) AND ([u].[Gender] = @__userParams_Gender_1)) AND ([u].[DateOfBirth] >= @__minDob_2)) AND ([u].[DateOfBirth] <= @__maxDob_3)" (0723d8ff)
2021-02-28T16:19:24.7815580+07:00 0HM6RP7O40O2N:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__userParams_CurrentUsername_0='?' (Size = 4000), @__userParams_Gender_1='?' (Size = 4000), @__minDob_2='?' (DbType = DateTime2), @__maxDob_3='?' (DbType = DateTime2), @__p_4='?' (DbType = Int32), @__p_5='?' (DbType = Int32)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[Username], [t].[c], [t].[City], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LookingFor], [t].[PasswordHash], [t].[PasswordSalt], [p0].[Id], [p0].[AppUserId], [p0].[IsMain], [p0].[PublicId], [p0].[Url], [p1].[Id], [p1].[Url], [p1].[IsMain]
FROM (
    SELECT [u].[Id], [u].[Username], (
        SELECT TOP(1) [p].[Url]
        FROM [Photos] AS [p]
        WHERE ([u].[Id] = [p].[AppUserId]) AND ([p].[IsMain] = CAST(1 AS bit))) AS [c], [u].[City], [u].[Country], [u].[Created], [u].[DateOfBirth], [u].[Gender], [u].[Interests], [u].[Introduction], [u].[KnownAs], [u].[LastActive], [u].[LookingFor], [u].[PasswordHash], [u].[PasswordSalt]
    FROM [Users] AS [u]
    WHERE (((([u].[Username] <> @__userParams_CurrentUsername_0) OR [u].[Username] IS NULL) AND ([u].[Gender] = @__userParams_Gender_1)) AND ([u].[DateOfBirth] >= @__minDob_2)) AND ([u].[DateOfBirth] <= @__maxDob_3)
    ORDER BY [u].[LastActive] DESC
    OFFSET @__p_4 ROWS FETCH NEXT @__p_5 ROWS ONLY
) AS [t]
LEFT JOIN [Photos] AS [p0] ON [t].[Id] = [p0].[AppUserId]
LEFT JOIN [Photos] AS [p1] ON [t].[Id] = [p1].[AppUserId]
ORDER BY [t].[LastActive] DESC, [t].[Id], [p0].[Id], [p1].[Id]" (0723d8ff)
2021-02-28T16:19:24.8055530+07:00 0HM6RP7O40O2N:00000003 [WRN] Testing Logger (625a9051)
2021-02-28T16:19:24.8127580+07:00 0HM6RP7O40O2N:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@__username_0='?' (Size = 4000)"], CommandType='Text', CommandTimeout='30']"
""SELECT [t].[Id], [t].[City], [t].[Country], [t].[Created], [t].[DateOfBirth], [t].[Gender], [t].[Interests], [t].[Introduction], [t].[KnownAs], [t].[LastActive], [t].[LookingFor], [t].[PasswordHash], [t].[PasswordSalt], [t].[Username], [p].[Id], [p].[AppUserId], [p].[IsMain], [p].[PublicId], [p].[Url]
FROM (
    SELECT TOP(2) [u].[Id], [u].[City], [u].[Country], [u].[Created], [u].[DateOfBirth], [u].[Gender], [u].[Interests], [u].[Introduction], [u].[KnownAs], [u].[LastActive], [u].[LookingFor], [u].[PasswordHash], [u].[PasswordSalt], [u].[Username]
    FROM [Users] AS [u]
    WHERE [u].[Username] = @__username_0
) AS [t]
LEFT JOIN [Photos] AS [p] ON [t].[Id] = [p].[AppUserId]
ORDER BY [t].[Id], [p].[Id]" (0723d8ff)
2021-02-28T16:19:24.9077210+07:00 0HM6RP7O40O2N:00000003 [INF] Executed DbCommand ("3"ms) [Parameters=["@p1='?' (DbType = Int32), @p0='?' (DbType = DateTime2)"], CommandType='Text', CommandTimeout='30']"
""SET NOCOUNT ON;
UPDATE [Users] SET [LastActive] = @p0
WHERE [Id] = @p1;
SELECT @@ROWCOUNT;" (0723d8ff)
2021-02-28T16:19:24.9391270+07:00 0HM6RP7O40O2N:00000003 [INF] Executing "OkObjectResult", writing value of type '"API.Helpers.PagedList`1[[API.DTOs.MemberDto, API, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]"'. (605b4265)
2021-02-28T16:19:24.9783020+07:00 0HM6RP7O40O2N:00000003 [INF] Executed action "API.Controllers.UsersController.GetUsers (API)" in 741.2174ms (afa2e885)
2021-02-28T16:19:24.9790380+07:00 0HM6RP7O40O2N:00000003 [INF] Executed endpoint '"API.Controllers.UsersController.GetUsers (API)"' (99874f2b)
2021-02-28T16:19:24.9840910+07:00 0HM6RP7O40O2N:00000003 [INF] Request finished HTTP/1.1 GET https://localhost:5001/api/users?pageNumber=1&pageSize=4&minAge=18&maxAge=99&gender=female&orderBy=lastActive - - - 200 - application/json;+charset=utf-8 986.9732ms (791a596a)
